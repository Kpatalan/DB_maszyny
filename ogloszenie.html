<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <title>Dane z webhooka n8n</title>
  <style>
    body { font-family:sans-serif; background:#f4f4f4; padding:2rem; }
    h1   { margin-bottom:2rem; }
    .block{background:#fff; padding:1rem; margin-bottom:2rem;
           border:1px solid #ccc; border-radius:8px;}
    label{display:block; font-weight:bold; margin-bottom:0.5rem;}
    textarea{width:100%; height:120px; font-family:monospace; font-size:1rem;
             padding:0.5rem; border:1px solid #aaa; border-radius:4px;
             background:#f9f9f9;}
    button.copy-btn{margin-top:0.5rem; padding:6px 12px; background:#0077cc;
                    color:#fff; border:none; border-radius:4px; cursor:pointer;}
    button.copy-btn:hover{background:#005fa3;}
  </style>
</head>
<body>

<h1>Dane z webhooka (n8n)</h1>

<div class="block">
  <label for="title">Tytuł ogłoszenia</label>
  <textarea id="title" readonly></textarea>
  <button class="copy-btn" onclick="copyToClipboard('title')">Kliknij, aby skopiować</button>
</div>

<div class="block">
  <label for="body">Treść ogłoszenia</label>
  <textarea id="body" readonly></textarea>
  <button class="copy-btn" onclick="copyToClipboard('body')">Kliknij, aby skopiować</button>
</div>

<div class="block">
  <label for="spec">Specyfikacja</label>
  <textarea id="spec" readonly></textarea>
  <button class="copy-btn" onclick="copyToClipboard('spec')">Kliknij, aby skopiować</button>
</div>

<div class="block">
  <label for="use">Zastosowanie</label>
  <textarea id="use" readonly></textarea>
  <button class="copy-btn" onclick="copyToClipboard('use')">Kliknij, aby skopiować</button>
</div>

<div class="block">
  <label for="info">Informacje dodatkowe</label>
  <textarea id="info" readonly></textarea>
  <button class="copy-btn" onclick="copyToClipboard('info')">Kliknij, aby skopiować</button>
</div>

<div class="block">
  <label for="kontakt">Kontakt (HTML)</label>
  <textarea id="kontakt" readonly></textarea>
  <button class="copy-btn" onclick="copyToClipboard('kontakt')">Kliknij, aby skopiować</button>
</div>

<script>
window.addEventListener("DOMContentLoaded", () => {
  const params = new URLSearchParams(window.location.search);

  const mapping = {
    title: "title",
    body: "body",
    specyfikacja: "spec",
    zastosowanie: "use",
    info: "info",
    kontakt: "kontakt"
  };

  for (const key in mapping) {
    const val = params.get(key);
    if (val) {
      const el = document.getElementById(mapping[key]);
      if (el) el.value = decodeURIComponent(val);
    }
  }
});
/* inicjalizacja */
loadData();
</script>
</body>
</html>

